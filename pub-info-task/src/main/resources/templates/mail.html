<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>任务进度排名</title>
    <style>
        table {
            font-size: 14px;
        }

        .green {
            width: 90px;
            height: 5px;
            background-color: #50E682;
            position: relative;
            border-radius: 20px;
        }

        .grey {
            width: 100px;
            height: 5px;
            background-color: #ccc;
            color: #fff;
            border-radius: 20px;
        }

        .p-title {
            text-align: center;
            font-size: 13px;
        }

        .trs:nth-child(odd) {
            background-color: #F4FCFF;
        }
    </style>
</head>
<body>

<table cellspacing="0" cellpadding="10">
    <caption style="margin:10px ;font-weight: bold;">任务进度排名</caption>
    <thead>
    <th>排名</th>
    <th>任务名称</th>
    <th>负责人</th>
    <th>任务进度</th>
    <th>截止日期</th>
    </thead>
    <tbody>

    <tr align="center" th:each="task:${taskList}" class="trs">

        <td th:if="${task.sortNum eq 1}" > <img style="width: 20px;height: 25px;"
                                                src=" https://ceshi.paifangzaixian.com/ysapp/pubinfo/mail/p1.png" alt=""></td>
        <td th:if="${task.sortNum eq 2}" > <img style="width: 20px;height: 25px;"
                                                src=" https://ceshi.paifangzaixian.com/ysapp/pubinfo/mail/p2.png" alt=""></td>
        <td th:if="${task.sortNum eq 3}" > <img style="width: 20px;height: 25px;"
                                                src=" https://ceshi.paifangzaixian.com/ysapp/pubinfo/mail/p3.png" alt=""></td>
        <td th:if="${task.sortNum gt 3}" th:text="${task.sortNum}"></td>
        <td th:text="${task.name}"></td>
        <td th:text="${task.userName}"></td>
        <td style="width: 100px;" align="left">
            <div class="p-title" th:text="${task.rate} + '%'"></div>
            <div class="grey">
                <div class="green" th:style="'width:' + ${task.rate} + 'px'">
                </div>
            </div>
        </td>

        <!-- 时间格式化为年月日时分秒 --->
        <td th:text="${#dates.format(task.taskEndDate,'yyyy-MM-dd')}"></td>
    </tr>
    </tbody>
</table>
</body>
</html>